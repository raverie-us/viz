<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title></title>
</head>

<body>
  <canvas width=600 height=800></canvas>
  <textarea style="height: 800px; width: calc(100vw - 650px); white-space: nowrap">
{
  type: "group",
  layers: [
    {
      type: "shader",
      code: `
        uniform float centerWarp; // default: 0.4
        void main() {
          vec2 uv = vec2(v_pos.x, v_pos.y * iResolution.y / iResolution.x);
          float r = length(uv);
          float theta = atan(uv.y, uv.x);
          vec4 prev = texture2D(previousLayer, (v_pos.xy + vec2(1.0, 1.0)) * 0.5);
          gl_FragColor = fract(2.5 * theta / PI + 7.0 * pow(r, centerWarp) - iTime) < 0.5 ? vec4(1.0) : prev;
        }
      `,
      blendMode: "normal",
      opacity: 1,
      timeMode: "normal",
      timeScale: 1,
      values: {
        centerWarp: 0.4
      }
    },
    {
      type: "shader",
      code: `
        uniform float lines; // default: 3
        void main() {
          float radians = (v_pos.y * 0.5 + 0.5 + iTime) * (2.0 * 3.14159265359) * lines;
          float value = sin(radians);
          vec4 prev = texture2D(previousLayer, (v_pos.xy + vec2(1.0, 1.0)) * 0.5);
          gl_FragColor = vec4(vec3(value), 1.0) + prev;
        }
      `,
      blendMode: "normal",
      opacity: 1,
      timeMode: "normal",
      timeScale: 1,
      values: {
        lines: 3
      }
    },
    {
      type: "shader",
      code: `
        uniform sampler2D texture;
        void main() {
          vec2 uv = (v_pos * 0.5 + vec2(0.5)) * vec2(1, iResolution.y / iResolution.x);
          gl_FragColor = texture2D(texture, uv);
        }
      `,
      blendMode: "normal",
      opacity: 1,
      timeMode: "normal",
      timeScale: 1,
      values: {
        texture: {
          url: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAC1QTFRFAAAA9KRazHn//Pez/97//v3m/8P//33//PFc/3T//vua/////7X//fWO99xVZpEWpAAAAA90Uk5TAP//////////////////5Y2epgAAAdBJREFUeJyl1D9qwzAUBnCrJ6jRBYrpBcrD4KUegijkAFoC2YpDaceC8ezFZPaiA2TJnKWkc6DQrbOPUJ+h+mtbqiVTqvX98n2K/ZIosg+6iYIH4VVYYCCrYACkjyQUgYAWQYBTWjyGOpYAb6BFqGMR8AYOAh1LQDRw4O/4PxBXEMB7iWUAYYBAg53nEgsgjrEB5WuSJM4wjkEcDUpCSDIiPQSop4BIJOdgTjZUEHMSebUA4NfFI4Bag3HOd/xPIJNgN2loOchqP2AcIGiaQRwkGOdMPFOcjWIjV06P10wEKNDUvwFjGogOI+iBg9MwZ+qtyQhVM4A1GwJMhBR0Q4vnk/64CRgieI0Get6azTIRDX+Sh+L8xpyAMaI5Unr+/HADRIQW+yN9N6CdLh7WJXu6HYD1Z4VUCaS0u2jQ2n93+o1MgLPZeq/SbXd5CYKuuxQhcC/AUwB8C7CbA2rx8gloV35QeUGvQOkDuQGVB/QK8N/mPMgDAIENKvd7ItXAwdeDAOUc4AF91wGRoJoBvQBwd0s8QAT0ANdXhJSywwVqHkdRIkU1B+TcCBfkw1yLygIYJnMlKutJcTCZK2FvNVhzKeyNwfZcCPtlIWfOhQ74AbgZq7L3W3rcAAAAAElFTkSuQmCC"
        }
      }
    },
    {
      type: "shader",
      code: `
        uniform float blue;
        void main() {
          gl_FragColor = vec4((v_pos + vec2(1.0, 1.0)) * 0.5, blue, 1.0);
        }
      `,
      blendMode: "normal",
      opacity: 1,
      timeMode: "normal",
      timeScale: 1,
      values: {
        blue: 0.5
      }
    }
  ]
}
  </textarea>
  <script type="module" src="dist/index.js"></script>
</body>

</html>